{"version":3,"sources":["webpack:///./src/templates/component.js"],"names":["IMAGE_TYPES","ComponentTemplate","extractComponentsInfo","component","splitPattern","info","description","_","get","docblock","infoRaw","split","forEach","statement","match","exec","key","renderLink","componentInfo","allComponents","this","props","pageContext","components","extendedComponents","chain","extends","replace","value","map","index","isLast","size","text","extendedComponent","find","c","node","displayName","trim","path","extendsLink","className","href","rel","target","to","extendsnotes","renderImage","image","alt","src","style","marginRight","width","border","renderGif","renderImages","images","type","renderImportant","marginBottom","fontWeight","important","importantLink","renderNote","note","renderNotes","notes","renderComponentPage","selectedComponent","componentNode","componentProps","orderBy","prop","name","toLowerCase","gifs","gif","undefined","imgs","example","modifiers","length","Props","render","isIntro","Component"],"mappings":"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","file":"component---src-templates-component-js-8a4abaf2b60a0ba7bbe5.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport Link from 'gatsby-link';\n\nimport './components.scss';\n\nconst IMAGE_TYPES = {\n  GIF: 'GIF',\n  PNG: 'PNG'\n};\n\nexport default class ComponentTemplate extends Component {\n  static propTypes = {\n    pageContext: PropTypes.object\n  };\n\n  extractComponentsInfo(component) {\n    const splitPattern = /([\\s\\S]*?):([\\s\\S]*)/; //eslint-disable-line\n\n    const info = {\n      description: _.get(component, 'description.text')\n    };\n\n    if (component.docblock) {\n      const infoRaw = _.split(component.docblock, '@');\n      _.forEach(infoRaw, statement => {\n        const match = splitPattern.exec(statement);\n        if (statement && match) {\n          const key = match[1];\n          info[key] = match[2];\n        }\n      });\n    }\n\n    return info;\n  }\n\n  renderLink(componentInfo) {\n    const {pageContext} = this.props;\n    const allComponents = pageContext.components;\n\n    const extendedComponents = _.chain(componentInfo.extends)\n      .replace(/ /g, '')\n      .split(',')\n      .value();\n\n    return _.map(extendedComponents, (component, index) => {\n      const isLast = index === _.size(extendedComponents) - 1;\n      const text = <b>{`${component}${!isLast ? ', ' : ''}`}</b>;\n      const extendedComponent = _.find(\n        allComponents,\n        c => c.node.displayName.trim() === component.trim()\n      );\n      const path =\n        !extendedComponent && componentInfo.extendsLink\n          ? componentInfo.extendsLink\n          : `/docs/${component}`;\n\n      return (\n        <span className=\"inline\" key={component}>\n          {!extendedComponent && componentInfo.extendsLink ? (\n            <a\n              href={componentInfo.extendsLink}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              {text}\n            </a>\n          ) : (\n            <Link to={path}>{text}</Link>\n          )}\n          {componentInfo.extendsnotes}\n          <br />\n        </span>\n      );\n    });\n  }\n\n  renderImage(image, index) {\n    return (\n      <img\n        key={index}\n        alt={''}\n        src={image}\n        style={{marginRight: 20, width: 320, border: '1px solid black'}}\n      />\n    );\n  }\n\n  renderGif(image, index) {\n    return (\n      <img\n        key={index}\n        alt={''}\n        src={image}\n        style={{marginRight: 20, width: 320}}\n      />\n    );\n  }\n\n  renderImages(images, type) {\n    switch (type) {\n      case IMAGE_TYPES.GIF:\n        return images.map(this.renderGif);\n      default:\n        return images.map(this.renderImage);\n    }\n  }\n\n  renderImportant(componentInfo) {\n    return (\n      <div alt={''} style={{marginBottom: 10}}>\n        <span style={{fontWeight: '700'}}>IMPORTANT: </span>{' '}\n        {componentInfo.important} &nbsp;\n        {componentInfo.importantLink && (\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={componentInfo.importantLink}\n          >\n            here\n          </a>\n        )}\n      </div>\n    );\n  }\n\n  renderNote(note, index) {\n    return (\n      <div key={index} alt={''} style={{marginBottom: 10}}>\n        {note}\n      </div>\n    );\n  }\n\n  renderNotes(notes) {\n    return notes.map(this.renderNote);\n  }\n\n  renderComponentPage() {\n    const {pageContext} = this.props;\n    const selectedComponent = pageContext.componentNode;\n    const componentInfo = this.extractComponentsInfo(selectedComponent);\n    const componentProps = _.orderBy(_.get(selectedComponent, 'props'), prop =>\n      prop.name.toLowerCase()\n    );\n    const gifs = componentInfo.gif ? componentInfo.gif.split(',') : undefined;\n    const imgs = componentInfo.image\n      ? componentInfo.image.split(',')\n      : undefined;\n    const notes = componentInfo.notes\n      ? componentInfo.notes.split(';')\n      : undefined;\n\n    return (\n      <div className=\"docs-page\">\n        <div className=\"docs-page__content\">\n          <h1 className=\"title inline\">{selectedComponent.displayName}</h1>\n          {componentInfo.example && (\n            <span className=\"code-example\">\n              (\n              <a\n                className=\"inline\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={componentInfo.example}\n              >\n                code example\n              </a>\n              )\n            </span>\n          )}\n\n          <h3>{componentInfo.description}</h3>\n          {componentInfo.extends && (\n            <div>\n              Extends: {this.renderLink(componentInfo)}\n              <div>\n                (meaning you can pass the super component's props as well).\n              </div>\n            </div>\n          )}\n          {componentInfo.modifiers && (\n            <div>\n              <p>\n                Supported modifiers: <b>{componentInfo.modifiers}</b>. <br />\n                Read more about modifiers{' '}\n                <Link to=\"/foundation/modifiers\">here</Link>.\n              </p>\n            </div>\n          )}\n\n          {componentInfo.notes && (\n            <div>\n              <h4 style={{marginBottom: 10}}>NOTES</h4>\n              {this.renderNotes(notes)}\n            </div>\n          )}\n          {componentInfo.important && (\n            <div>{this.renderImportant(componentInfo)}</div>\n          )}\n          {componentProps.length > 0 && (\n            <div>\n              <h3>PROPS</h3>\n              <Props props={componentProps} />\n            </div>\n          )}\n\n          {imgs && (\n            <div className=\"container\">\n              <h3>EXAMPLE</h3>\n              <div className=\"row\">\n                <div className=\"col-sm-12 text-center\">\n                  {this.renderImages(imgs, IMAGE_TYPES.PNG)}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {gifs && (\n            <div className=\"container\">\n              <h3>LIVE EXAMPLE</h3>\n              <div className=\"row\">\n                <div className=\"col-sm-12 text-center\">\n                  {this.renderImages(gifs, IMAGE_TYPES.GIF)}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const isIntro = !_.get(this.props, 'pageContext.componentNode');\n    return (\n      <div>\n        {isIntro && (\n          <div className=\"docs-page\">\n            <div className=\"docs-page__content\">\n              <div>Select a component from the left sidebar</div>\n            </div>\n          </div>\n        )}\n\n        {!isIntro && this.renderComponentPage()}\n      </div>\n    );\n  }\n}\n\nconst Props = ({props}) => {\n  return (\n    <div className=\"component-props\">\n      <table>\n        <tbody>\n          <tr>\n            <th>name</th>\n            <th>description</th>\n            <th>type</th>\n            <th>default</th>\n          </tr>\n\n          {_.map(props, (prop, index) => {\n            const description = _.get(prop, 'description.text');\n            if (description) {\n              return (\n                <tr key={index}>\n                  <td>{prop.name}</td>\n                  <td>{description}</td>\n                  <td>{_.get(prop, 'type.name')}</td>\n                  <td>{_.get(prop, 'defaultValue.value')}</td>\n                </tr>\n              );\n            }\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"sourceRoot":""}